version: '3.8'

services:
  homeassistant-mcp:
    build: .
    ports:
      - "8080:8080"
    environment:
      # These can be overridden by creating a .env file
      - DEBUG=${DEBUG:-false}
      - HA_URL=${HA_URL}
      - HA_TOKEN=${HA_TOKEN}
      - HA_VERIFY_SSL=${HA_VERIFY_SSL:-true}
      - TIMEZONE=${TIMEZONE:-UTC}
      # HTTP server configuration
      - MCP_API_KEY=${MCP_API_KEY}
      - MD5_SALT=${MD5_SALT:-}
      - HOST=0.0.0.0
      - PORT=8080
      # Redis cache (optional)
      - REDIS_HOST=${REDIS_HOST:-}
      - REDIS_SSL_PORT=${REDIS_SSL_PORT:-}
      - REDIS_KEY=${REDIS_KEY:-}
