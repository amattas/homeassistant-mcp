{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home Assistant MCP Server","text":"<p>The Home Assistant MCP server is a Model Context Protocol (MCP) server for controlling and monitoring Home Assistant from MCP clients like Claude Desktop.</p> <p>Use this documentation to:</p> <ul> <li>Understand the capabilities of the server</li> <li>Set up Docker-based or local development environments</li> <li>Configure environment variables and Redis caching</li> <li>Discover available MCP tools for device control and monitoring</li> </ul> <p>If you are integrating this server with Claude Desktop, see the getting started guide for example configuration.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>The Home Assistant MCP server is configured through environment variables, typically via <code>.env.local</code> when running with Docker Compose.</p>"},{"location":"configuration/#core-environment-variables","title":"Core Environment Variables","text":"Variable Required Default Description <code>HA_URL</code> Yes - Home Assistant URL (e.g. <code>http://homeassistant.local</code>) <code>HA_TOKEN</code> Yes - Long-lived access token <code>HA_VERIFY_SSL</code> No <code>true</code> Verify SSL certificates <code>DEBUG</code> No <code>false</code> Enable debug logging <code>REDIS_HOST</code> No - Redis server hostname (for caching) <code>REDIS_PORT</code> No <code>6379</code> Redis server port <code>REDIS_PASSWORD</code> No - Redis password <code>REDIS_USE_SSL</code> No <code>false</code> Use SSL for Redis connection <p>When Redis is configured, the server uses <code>RedisCache</code> to cache responses and reduce load on Home Assistant.</p>"},{"location":"configuration/#deployment-notes","title":"Deployment Notes","text":"<ul> <li>For Docker Compose, edits to <code>.env.local</code> are picked up on restart.</li> <li>For direct execution (without Docker), you can export variables in your shell before running <code>server.py</code> or <code>server_remote.py</code>.</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide walks through setting up the Home Assistant MCP server and connecting it to your Home Assistant instance.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker and Docker Compose (for containerized deployment)</li> <li>A running Home Assistant instance (local or remote)</li> <li>A long-lived access token from your Home Assistant profile</li> <li>Network access from the server to Home Assistant</li> </ul>"},{"location":"getting-started/#clone-and-configure","title":"Clone and Configure","text":"<pre><code>cd homeassistant-mcp\ncp .env.example .env.local\n</code></pre> <p>Edit <code>.env.local</code> and set at least:</p> <pre><code>HA_URL=http://homeassistant.local:8123\nHA_TOKEN=your-long-lived-access-token-here\nHA_VERIFY_SSL=true\nDEBUG=false\n</code></pre> <p>You can also configure optional Redis caching variables here.</p>"},{"location":"getting-started/#run-with-docker-compose","title":"Run with Docker Compose","text":"<pre><code>docker-compose up --build\n</code></pre> <p>The server will start in stdio mode inside the container, ready to accept MCP connections.</p>"},{"location":"getting-started/#connect-to-claude-desktop","title":"Connect to Claude Desktop","text":"<p>Update your Claude Desktop configuration file:</p> <ul> <li>macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li> <li>Windows: <code>%APPDATA%\\\\Claude\\\\claude_desktop_config.json</code></li> </ul> <p>Example configuration:</p> <pre><code>{\n  \"mcpServers\": {\n    \"homeassistant\": {\n      \"command\": \"docker\",\n      \"args\": [\"compose\", \"-f\", \"/path/to/homeassistant-mcp/docker-compose.yml\", \"run\", \"--rm\", \"homeassistant-mcp\"]\n    }\n  }\n}\n</code></pre> <p>Restart Claude Desktop to activate the server.</p>"},{"location":"tools/","title":"MCP Tools","text":"<p>The Home Assistant MCP server exposes tools for device control, automation, and monitoring via the Home Assistant API.</p> <p>Major categories include:</p> <ul> <li>Device Control</li> <li>Lights: <code>turn_on_light</code>, <code>turn_off_light</code>, <code>toggle_light</code>, <code>set_light_brightness</code></li> <li>Switches: <code>turn_on_switch</code>, <code>turn_off_switch</code>, <code>toggle_switch</code></li> <li>Climate: <code>set_temperature</code>, <code>set_hvac_mode</code>, <code>turn_on_climate</code>, <code>turn_off_climate</code></li> <li>Covers: <code>open_cover</code>, <code>close_cover</code>, <code>stop_cover</code>, <code>set_cover_position</code></li> <li> <p>Locks: <code>lock_door</code>, <code>unlock_door</code></p> </li> <li> <p>Scenes, Automations, and Scripts</p> </li> <li><code>activate_scene</code></li> <li><code>trigger_automation</code></li> <li> <p><code>run_script</code></p> </li> <li> <p>Entity and Area Queries</p> </li> <li><code>get_entity_state</code>, <code>get_all_entities</code></li> <li><code>get_entities_by_area</code>, <code>get_entities_by_domain</code></li> <li> <p><code>get_all_areas</code>, <code>get_area_devices</code>, <code>get_area_entities</code></p> </li> <li> <p>Sensors and Monitoring</p> </li> <li> <p><code>get_all_sensors</code> and related categorization helpers</p> </li> <li> <p>Server and Cache Management</p> </li> <li><code>get_server_status</code>, <code>get_server_config</code></li> <li><code>get_cache_stats</code>, <code>clear_cache</code>, <code>get_cache_info</code></li> </ul> <p>See <code>src/server.py</code> and <code>src/services/homeassistant.py</code> for the full list of available tools and their parameters.</p>"}]}